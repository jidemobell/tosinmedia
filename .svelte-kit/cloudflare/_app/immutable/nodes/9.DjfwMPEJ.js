import{t as m,a as l}from"../chunks/CV0d9kFr.js";import"../chunks/DSTWYmgX.js";import{l as f,s as _,i,m as h,j as s,k as e,g as a}from"../chunks/CnkAxGmo.js";import{s as d,e as W}from"../chunks/Cst5EegI.js";import{i as q}from"../chunks/Byv-J5Yn.js";import{e as $,i as j}from"../chunks/JilK9rLz.js";var z=m("<button>Pay Now</button>"),A=m("<li> <!></li>"),C=m("<li> </li>"),D=m("<div><h1> </h1> <section><h2>Your Bookings</h2> <ul></ul></section> <section><h2>Your Testimonials</h2> <ul></ul></section></div>");function K(Y){let g=h({}),x=h([]),b=h([]);async function B(){const t=await(await fetch("/api/user/profile")).json();_(g,t.profile),_(x,t.bookings),_(b,t.testimonials)}onMount(B);var v=D(),c=s(v),M=s(c);e(c);var u=i(c,2),k=i(s(u),2);$(k,5,()=>a(x),j,(r,t)=>{var o=A(),n=s(o),N=i(n);{var T=p=>{var P=z();W("click",P,()=>makePayment(a(t).id)),l(p,P)};q(N,p=>{a(t).status==="pending"&&p(T)})}e(o),f(()=>d(n,`${a(t).event_name??""} - ${a(t).status??""} `)),l(r,o)}),e(k),e(u);var w=i(u,2),y=i(s(w),2);$(y,5,()=>a(b),j,(r,t)=>{var o=C(),n=s(o,!0);e(o),f(()=>d(n,a(t).message)),l(r,o)}),e(y),e(w),e(v),f(()=>d(M,`Welcome, ${a(g).username??""}`)),l(Y,v)}export{K as component};
